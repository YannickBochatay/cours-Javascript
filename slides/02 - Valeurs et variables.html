<!doctype html>
<html lang="fr">

	<head>
		<meta charset="utf-8">

		<title>Cours javascript : valeurs et variables</title>

		<meta name="description" content="cours de javascript">
		<meta name="author" content="Yannick Bochatay">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
        <link rel="stylesheet" href="css/theme/simple.css" id="theme">
        <link rel="stylesheet" href="css/custom.css">

        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="lib/css/vs.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
        window.print();
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h1>Javascript</h1>
					<h3>Valeurs et variables</h3>
				</section>

				<section>
					<h2>Définition</h2>
					<p>Une variable est un symbole qui associe un nom (l'identifiant) à une valeur.</p>
					<p>La valeur peut être une valeur primitive ou un objet.</p>
				</section>

				<section>
					<section>
						<h2>
							Valeurs primitives
						</h2>
						<ul>
							<li>booléen</li>
							<li>nombre</li>
							<li>chaîne de caractère</li>
							<li>undefined</li>
              <li>null</li>
              <li>Symbol</li>
						</ul>
					</section>
				</section>
				<section>
					<h3>Booléen</h3>
					<code>true</code> ou <code>false</code>
				</section>

					<section>
						<h3>Nombre</h3>
						<p>
						Nombres à virgule flottante sur 64 bits.<br/>
						Deux valeurs spéciales : <code>NaN</code> (not a number) et <code>Infinity</code>.
						</p>
						<pre>
							<code data-trim class="javascript">
3/0; //Infinity

parseFloat("a"); // NaN
							</code>
						</pre>
					</section>

					<section>
						<section>
						<h3>Chaîne de caractère</h3>
						<p>
						Délimitée indiféremment par des apostrophes (simple quote) ou des guillemets (double quote).
						<br/>

						</p>
						<pre><code>
  "toto";
  'toto';
            </code></pre>
            <br/>
            <div class="fragment">
            <p>
              Délimitée par des guillements obliques, la chaîne peut être écrite sur plusieurs lignes et intégrer des expressions.
            </p>
            <pre><code class="javascript">
    let nom = "Toto";

    alert(`Bonjour ${nom},
    comment vas-tu ?`);
            </code></pre>
					  </section>

					  <section>
						<h3>Chaîne de caractère</h3>
						<h4>Caractères spéciaux</h4>
						<table id="caracteres_speciaux">
                            <thead>
                            <tr>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                            <td><code>\b</code></td>
                            <td>Retour arrière</td>
                            </tr>
                            <tr>
                            <td><code>\f</code></td>
                            <td>Saut de page</td>
                            </tr>
                            <tr>
                            <td><code>\n</code></td>
                            <td>Nouvelle ligne</td>
                            </tr>
                            <tr>
                            <td><code>\r</code></td>
                            <td>Retour chariot</td>
                            </tr>
                            <tr>
                            <td><code>\t</code></td>
                            <td>Tabulation</td>
                            </tr>
                            <tr>
                            <td><code>\v</code></td>
                            <td>Tabulation verticale</td>
                            </tr>
                            <tr>
                            <td><code>\'</code></td>
                            <td>Apostrophe ou guillemet droit simple</td>
                            </tr>
                            <tr>
                            <td><code>\"</code></td>
                            <td>Guillemet droit double</td>
                            </tr>
                            <tr>
                            <td><code>\\</code></td>
                            <td>Barre oblique inversée</td>
                            </tr>
                            <tr>
                            <td><code>\<em>XXX</em></code></td>
                            <td>Caractère Latin-1 spécifié par, au plus, 3 chiffres octaux entre 0 et 377.</td>
                            </tr>
                            <tr>
                            </tr>
                            <tr>
                            <td><code>\x<em>XX</em></code></td>
                            <td>Caractère Latin-1 spécifié par 2 chiffres hexadécimaux entre 00 et FF.</td>
                            </tr>
                            <tr>
                            </tr>
                            <tr>
                            <td><code>\u<em>XXXX</em></code></td>
                            <td>Caractère Unicode spécifié par 4 chiffres hexadécimaux.</td>
                            </tr>
                            </tbody>
                            </table>
						</section>

					</section>


						<section>
							<h3>Undefined</h3>
							Valeur utilisée lorsqu'aucune valeur n'a été attribuée à une variable.
							<pre><code class="javascript">let toto;

toto; //undefined</code></pre>
						</section>

						<section>
							<h3>null</h3>
							Valeur qui représente l'absence intentionnelle de valeur.
							<pre><code class="javascript">
let toto = null;
								</code></pre>

          </section>

          <section>
						<h3>Symbol</h3>
						<p>Valeur unique et immuable qui peut être utilisée comme clé d'une propriété d'un objet.</p>
						<pre><code data-trim class="javascript">let sym = Symbol("toto");
let obj = {};
obj[sym] = "titi";</code></pre>
<p>=> Utilisation avancée de javascript.</p>
					</section>

				<section>
					<h2>Déclaration</h2>
					Obligatoire en mode strict
					<pre><code>"use strict";

let tata; //déclaration
let toto = "titi"; //déclaration + affectation
let titi, tutu; //déclaration de 2 variables avec un seul mot clé var.

toto; // "titi"
titi; // undefined
tutu; // undefined
tyty; // ReferenceError: tyty is not defined</code></pre>
        <p>Les variables se déclarent avec les mots clés let</p>
				</section>

				<section>
					<h2>Typage dynamique</h2>
					On ne spécifie pas le type de données.
					<pre><code>let reponse = 42;

reponse = "toto";
					</code></pre>
				</section>

				<section>
					<section>
						<h2>Identifiants</h2>
						<h4>Règles</h4>
						<ul>
							<li>commencent par une lettre, un tiret bas (<code>_</code>) ou un dollar (<code>$</code>)</li>
							<li>les caractères qui suivent peuvent être des chiffres (<code>0</code> à <code>9</code>)</li>
							<li>sensibles à la casse</li>
							<li>ne sont pas des mots réservés</li>
						</ul>
						<br/>
						<br/>
						<h4>Habitudes</h4>
						<ul>
							<li>camelCase : <code>maVariable</code> plutôt que <code>ma_variable</code></li>
							<li>les constructeurs (et uniquement eux) commencent par une majuscule</code></li>
						</ul>
						<br/>
						<br/>
						<pre><code class="javascript">let maVariable = new MonConstructeur();</code></pre>
					</section>
					<section>
						<h2>Mots réservés</h2>
						<ul class="fourColumns">
							<li><code>break</code></li>
							<li><code>case</code></li>
							<li><code>catch</code></li>
							<li><code>class</code></li>
							<li><code>const</code></li>
							<li><code>continue</code></li>
							<li><code>debugger</code></li>
							<li><code>default</code></li>
							<li><code>delete</code></li>
							<li><code>do</code></li>
							<li><code>else</code></li>
							<li><code>enum</code>*</li>
							<li><code>export</code></li>
							<li><code>extends</code></li>
							<li><code>finally</code></li>
							<li><code>for</code></li>
							<li><code>function</code></li>
							<li><code>if</code></li>
							<li><code>implements</code>*</li>
							<li><code>import</code></li>
							<li><code>in</code></li>
							<li><code>instanceof</code></li>
							<li><code>interface</code>*</li>
							<li><code>let</code></li>
							<li><code>new</code></li>
							<li><code>package</code>*</li>
							<li><code>private</code>*</li>
							<li><code>protected</code>*</li>
							<li><code>public</code>*</li>
							<li><code>return</code></li>
							<li><code>static</code></li>
							<li><code>super</code></li>
							<li><code>switch</code></li>
							<li><code>this</code></li>
							<li><code>throw</code></li>
							<li><code>try</code></li>
							<li><code>typeof</code></li>
							<li><code>var</code></li>
							<li><code>void</code></li>
							<li><code>while</code></li>
							<li><code>with</code></li>
							<li><code>yield</code></li>
						</ul>
						<br/>
						<br/>
						<p>* réservés en vue de l'évolution de javascript.</p>
					</section>
				</section>

				<section>
						<h2>Portée des variables</h2>
						<h3>Variables globales</h3>
						<p>En dehors des fonctions, on parle d'espace global.<br/>
						Les variables définies dans cet espace sont appelées variables globales. Elles sont disponibles pour tout le code contenu dans le document.
						</p>
						<h3>Variables locales</h3>
						<p>Lorsqu'une variable est déclarée dans une fonction, elle est appelée variable locale car elle n'est disponible qu'au sein de cette fonction.
						</p>
          </section>

          <section>
              <h2>Variables globales</h2>
              <h3>Dans un navigateur web</h3>
              Différents fichiers javascript partagent le <u>même</u> espace global.
              </p>
              <pre><code>&lt;!doctype html&gt;
  &lt;html&gt;
     &lt;head&gt;&lt;/head&gt;
     &lt;body&gt;
        &lt;script src="script1.js"&gt;&lt;/script&gt;
        &lt;script src="script2.js"&gt;&lt;/script&gt;
        &lt;script&gt;
           alert(maVariable); //tata
        &lt;/script&gt;
     &lt;/body&gt;
  &lt;/html&gt;</code></pre>
              <p><small>script1.js</small></p>
              <pre><code>let maVariable = "toto";</code></pre>
              <p><small>script2.js</small></p>
              <pre><code>let maVariable = "tata";</code></pre>
          </section>

          <section>
            <h2>Portée des variables</h2>
            <h3>Avant ES6</h3>
            <pre><code class="javascript">
    var x = 3;

    if (true) {
      var x = 2;
      x; //2
    }

    x; //2, pas d'erreur générée
    </code></pre>
          <p>La portée de bloc n'existait pas.</p>
          <p>L'écrasement des variables est possible.</p>
          </section>

          <section>
              <h2>Portée des variables</h2>
              <h3>Aujourd'hui</h3>
            <pre><code class="javascript">
    let x = 3;

    if (true) {
      let x = 2;
      x; //2
    }

    x; //3
    </code></pre>
            Le mot clé <code>let</code> permet la portée de bloc.
          </section>

				<section>

          <section>
					  <h2>Constantes</h2>
<pre><code class="javascript">const x = 2;

x = 3; //TypeError: invalid assignment to const `x'
</code></pre>
          </section>

          <section>
            <h2>Constantes</h2>
            Les constantes ont une portée de bloc.
  <pre><code class="javascript">const x = 2;

if (true) {
  const x = 3;
}

x; //2</code></pre>
          </section>

          <section>
              <h2>Constantes</h2>
              Si la valeur est un objet, celui-ci peut être modifié, c'est la variable qui ne peut pas être réaffectée.
    <pre><code class="javascript">const obj = { nom : "Toto", age : 26 };

obj.age = 27; //ok

obj = "toto"; //TypeError: invalid assignment to const 'obj'</code></pre>
            </section>

       </section>



				<section>
					<h2>Conversions implicites</h2>
					<p>Si une instruction attend un type autre que celui de l'opérande, ce dernier est automatiquement converti. Attention aux pièges ! </p>
					<pre><code>"La réponse est " + 37; // "La réponse est 37"
"37" - 7; // 30
"37" + 7; // "377"</code></pre>

				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
		<script src="js/initialize.js"></script>

	</body>
</html>
