<!doctype html>
<html lang="fr">

	<head>
		<meta charset="utf-8">

		<title>Cours javascript : les tableaux</title>

		<meta name="description" content="cours de javascript">
		<meta name="author" content="Yannick Bochatay">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">
		<link rel="stylesheet" href="css/custom.css">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Javascript</h1>
					<h3>les tableaux</h3>
				</section>
				<section>
					<h2>Définition</h2>
					<ul>
						<li>Les tableaux javascript sont des <u>objets</u> semblables à des listes qui possèdent plusieurs méthodes incorporées
						pour exécuter des opérations de parcours et de modification.</li>
						<li>Ni la taille d'un tableau ni les types de ses éléments ne sont fixés.</li>
					</ul>
				</section>
				<section>
					<h2>Création</h2>
                                        <p>Constructeur</p>
					<pre><code class="javascript">var tab = new Array(); //Création d'un tableau vide;
var tab2 = new Array("toto","tata","titi"); //éléments du tableau
var tab3 = new Array(12); //longueur du tableau</code></pre>
					<br/>
                                        <div class="fragment">
					<p>Notation littérale<br/><small>A privilégier</small></p>
					<pre><code class="javascript">var tab = []; //Création d'un tableau vide;
var tab2 = ["toto","tata","titi"]; //éléments du tableau</code></pre>
                                        </div>
				</section>
				<section>
					<h2>Accès aux éléments</h2>
					<p>Les tableaux javascript sont des objets possédant des noms de propriété numériques et une propriété <code>length</code>.</p>
					<p>La notation avec point ne permettant pas un nom commençant par un chiffre, on utilise la notation avec crochets.</p>
					<pre><code class="javascript">var tab = ["tata","toto","titi"];
tab.0; //erreur de syntaxe
tab[0]; //accès à la propriété 0 => "tata"
tab[1]; //accès à la propriété 1 => "toto"

tab.length; //3</code></pre>
				</section>
				<section>
					<section>
					<h2>Tableaux associatifs ?</h2>
					<h3>Illusion</h3>
					<p>Malgré de <a href="http://www.commentcamarche.net/contents/587-javascript-les-tableaux#tableaux-associatifs" target="liens">nombreuses sources</a> les évoquant, il n'y a <u>pas de tableaux associatifs</u> en javascript.</p>
					<p>La confusion vient de la notation avec crochets qui rappelle les tableaux associatifs d'autres langages.</p>
					<pre><code class="javascript">var tab = [];
tab["nom"] = "Toto";
tab["age"] = 25;

for (var n in tab) console.log(n + ' = ' + tab[n]);

//J'arrive à mes fins et je crois utiliser un tableau associatif.
</code></pre>
					</section>
					<section>
						<h2>Tableaux associatifs ?</h2>
						<h3>Risques</h3>
						<p></p>
						<pre><code class="javascript">var tab = [];
tab["nom"] = "Toto";
tab["age"] = 25;

console.log( tab.length ); //0
</code></pre>
<p>Nous n'ajoutons pas ici des éléments à la liste mais des propriétés à l'objet tableau.</p>
					</section>
					<section>
						<h2>Tableaux associatifs ?</h2>
						<h3>Solution</h3>
						<p>Utiliser tout simplement les objets.
						<pre><code class="javascript">var tab = {};
tab.nom = "Toto"; // strictement équivalent à tab["nom"] = "Toto"
tab.age = 25; // strictement équivalent à tab["age"] = 25

for (var n in tab) console.log(n + ' = ' + tab[n]);
</code></pre>
					</section>
				</section>
				<section>
					<section>
						<h2>Enumération</h2>
						<h3>Classique</h3>
						<pre><code class="javascript">var tab = ["tata","toto","titi"];
						
for (var i=0 ; i&lttab.length ; i++) {
    console.log(tab[i]);
}</code></pre>
<p>ou mieux</p>
<pre><code class="javascript">var tab = ["tata","toto","titi"];

for (var i=0, N=tab.length ; i&lt;N ; i++) {
    console.log(tab[i]);
}

//tab.length n'est pas réévalué à chaque passage</code></pre>
					</section>
					<section>
						<h2>Enumération</h2>
						<h3>forEach <small>(ecmascript5)</small></h3>
						<pre><code class="javascript">var tab = ["tata","toto","titi"];
						
tab.forEach(function(item) {
    console.log(item);
});</code></pre>
<p>avec les indices</p>
<pre><code class="javascript">var tab = ["tata","toto","titi"];
						
tab.forEach(function(item,i) {
    console.log("item n°"+i+" : "+item);
});</code></pre>
					</section>
					<section>
						<h2>Enumération</h2>
						<h3><del>for...in</del></h3>
						<p>Ne jamais utiliser la boucle <code>for...in</code> pour énumérer un tableau !
						<pre><code class="javascript">var tab = ["tata","toto","titi"];

for (var n in tab) console.log(tab[n]);

//Pourquoi puisque ça marche ?!
</code></pre>
					</section>
					<section>
						<h2>Enumération</h2>
						<h3><del>for...in</del></h3>
						<pre><code class="javascript">var tab = ["tata","toto","titi"];

tab.nom = "Mes prénoms";

for (var n in tab) console.log(tab[n]);

//ça ne fonctionne plus
</code></pre>
					</section>
					<!--<section>
						<h2>Enumération</h2>
						<h3><del>for...in</del></h3>
						<pre><code class="javascript">var tab = ["tata","toto","titi"];
						
//cela sera étudié dans le chapitre "Programmer objet"
Array.prototype.maSuperMethodePourTousLesTableaux = function() {
	//blahblah
};

for (var n in tab) console.log(tab[n]);

//ça ne fonctionne plus non plus
</code></pre>
					</section>-->



</code></pre>
					</section>
				</section>
				<section>
					<h2>Mutateurs</h2>
						<p>Ces méthodes modifient le tableau.</p>
						<br/>
						<ul>
							<li>
								<code>pop</code> : supprime le dernier élément et retourne cet élément.
							</li>
							<li>
								<code>push</code> : ajoute un ou des éléments à la fin du tableau.
							</li>
							<li>
								<code>reverse</code> : renverse l'ordre des éléments.
							</li>
							<li>
								<code>shift</code> : supprime le 1er élément et retourne cet élément.
							</li>
							<li>
								<code>sort</code> : trie en place les éléments.
							</li>
							<li>
								<code>splice</code> : supprime et/ou ajoute des éléments.
							</li>
							<li>
								<code>unshift</code> : ajoute un ou des éléments au début du tableau.
							</li>
						</ul>
						<br/><br/>
						<p><small>
							<a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Array#Les_mutateurs" target="liens">&#10152; Référence</a>
							</small>
						</p>
					</section>
					<section>
						<h2>Accesseurs</h2>
						<p>Ces méthodes ne modifient pas le tableau.</p>
						<br/>
						<ul>
							<li>
								<code>concat</code> : renvoie un tableau constitué de ce tableau concaténé avec un ou d'autres tableaux et/ou valeurs.
							</li>
							<li>
								<code>join</code> : concatène les éléments en une chaîne de caractères.
							</li>
							<li>
								<code>slice</code> : extrait une portion du tableau pour retourner un nouveau tableau constitué de ces éléments.
							</li>
							<li>
								<code>indexOf</code> : retourne le plus petit index d'un élément égal à la valeur passée en paramètre, ou -1 si aucun n'a été trouvé.
							</li>
							<li>
								<code>lastIndexOf</code> : retourne le plus grand index d'un élément égal à la valeur passée en paramètre.
							</li>
						</ul>
						<br/><br/>
						<p><small>
							<a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Array#Les_accesseurs" target="liens">&#10152; Référence</a>
							</small>
						</p>
					</section>
					<section>
						<h2>Itération</h2>
						<ul>
								<li>
									<code>forEach</code> : appelle une fonction sur chacun des éléments.
								</li>
						
								<li>
									<code>every</code> : renvoie true si chaque élément satisfait la fonction.
								</li>
							
								<li>
									<code>some</code> : renvoie true si au moins un élément satisfait la fonction.
								</li>
						
								<li>
									<code>filter</code> : crée un tableau contenant tous les éléments satisfaisant la fonction.
								</li>
							
								<li>
									<code>map</code> : crée un tableau contenant les images de chaque élément par la fonction.
								</li>
						
								<li>
									<code>reduce</code> : applique une fonction sur un accumulateur et sur chaque élément de façon à obtenir une unique valeur.
								</li>
							</ul>
							<br/><br/>
							<p><small>
								<a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Array#Les_m.C3.A9thodes_d%27it.C3.A9ration" target="liens">&#10152; Référence</a>
							</small>
							</p>
				</section>
				<section>
						<h2>Reconnaître un tableau</h2>
						<h3>Array.isArray</h3>
						<pre><code class="javascript">var tab = ["tata","toto","titi"];
						
var tab2 = { "0" : "tata", "1" : "toto", "2" : "titi", length : 3 };
						
Array.isArray(tab); //true;

Array.isArray(tab2); //false;
</code></pre>
				</section>
			</div>
			
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
		<script src="js/initialize.js"></script>

	</body>
</html>
