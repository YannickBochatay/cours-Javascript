<!doctype html>
<html>
    <head>
    	<meta charset="UTF-8"/>
        <title>Exercice 19</title>
        <link rel="stylesheet" type="text/css" href="styles.css"/>
    </head>
    <body>
    	
        <h1>Introduction à la liaison de données (data-binding)</h1>
        
        <section class="intitule">
            
            <p>Une bibliothèque de data-binding permet de lier des éléments du DOM à des données (dans notre cas, une liste d'instructions).<br/>
                Une modification des données entrainera une mise à jour automatique du DOM (<q>one-way data-binding</q>).<br/>
                Une modification du DOM (saisie utilisateur) pourra également mettre à jour automatiquement les données,
                on parle alors de <q>two-way data-binding</q></p>
            
            <p>Le but est identique aux exercices 17 et 18. On utilise ici la fonction <code>fetch</code> et la bibliothèque <a href="http://rivetsjs.com/">rivets.js</a>.
            </p>
            <p>Récupérer la liste des instructions (format JSON) à l'url <a href="http://mpfc.meteo.fr/back/modeles/instruction/liste/?page=1&tri=id&sens=desc" target="_blank">http://mpfc.meteo.fr/back/modeles/instruction/liste/?page=1&tri=id&sens=desc</a>
                et afficher cette liste dans le tableau ci-dessous.
                <br/><br/>
                Le champ action doit etre un lien vers la page de l'instruction (ex : <a href="http://mpfc.meteo.fr/#/instructions/507" target="_blank">http://mpfc.meteo.fr/#/instructions/507</a> pour l'instruction d'id 507).</p>
        </section>
        
        <section>
            <table id="listeDesInstructions">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr rv-each-instruction="instructions">
                        <td rv-text="instruction.id"></td>
                        <td><a href="instruction.id | url" rv-text="instruction.action"></a></td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/rivets/0.8.1/rivets.bundled.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.js"></script>
    	<script src="script.js"></script>
        
    </body>
</html>